#include <bits/stdc++.h>
using namespace std;

// ============================
// BASIC NODE
// ============================

struct Node {
    int data;
    Node* next;
    Node(int x): data(x), next(NULL) {}
};

Node* head = NULL;

// ============================
// QUESTION 1
// Menu SLL: insert, delete, search, display
// ============================

void insertBeg(int x) {
    Node* n = new Node(x);
    n->next = head;
    head = n;
}

void insertEnd(int x) {
    Node* n = new Node(x);
    if (!head) { head = n; return; }
    Node* p = head;
    while (p->next) p = p->next;
    p->next = n;
}

Node* searchVal(int val) {
    Node* p = head;
    while (p && p->data != val) p = p->next;
    return p;
}

void insertBefore(int key, int x) {
    if (!head) return;
    if (head->data == key) { insertBeg(x); return; }
    Node* p = head;
    while (p->next && p->next->data != key) p = p->next;
    if (!p->next) return;
    Node* n = new Node(x);
    n->next = p->next;
    p->next = n;
}

void insertAfter(int key, int x) {
    Node* p = searchVal(key);
    if (!p) return;
    Node* n = new Node(x);
    n->next = p->next;
    p->next = n;
}

void delBeg() {
    if (!head) return;
    Node* t = head;
    head = head->next;
    delete t;
}

void delEnd() {
    if (!head) return;
    if (!head->next) { delete head; head = NULL; return; }
    Node* p = head;
    while (p->next->next) p = p->next;
    delete p->next;
    p->next = NULL;
}

void delKey(int key) {
    if (!head) return;
    if (head->data == key) { delBeg(); return; }
    Node* p = head;
    while (p->next && p->next->data != key) p = p->next;
    if (!p->next) return;
    Node* t = p->next;
    p->next = t->next;
    delete t;
}

int searchPos(int key) {
    int pos = 1;
    Node* p = head;
    while (p) {
        if (p->data == key) return pos;
        p = p->next; pos++;
    }
    return -1;
}

void display() {
    Node* p = head;
    while (p) { cout << p->data << " "; p = p->next; }
    cout << "\n";
}

// ============================
// QUESTION 2
// Count occurrences of key and delete all
// ============================

int countAndDelete(Node* &headRef, int key) {
    int cnt = 0;
    while (headRef && headRef->data == key) {
        Node* t = headRef;
        headRef = headRef->next;
        delete t;
        cnt++;
    }
    Node* p = headRef;
    while (p && p->next) {
        if (p->next->data == key) {
            Node* t = p->next;
            p->next = t->next;
            delete t;
            cnt++;
        } else p = p->next;
    }
    return cnt;
}

// ============================
// QUESTION 3
// Find middle node
// ============================

Node* middleNode(Node* head) {
    Node *slow = head, *fast = head;
    while (fast && fast->next) {
        slow = slow->next;
        fast = fast->next->next;
    }
    return slow;
}

// ============================
// QUESTION 4
// Reverse linked list
// ============================

Node* reverseList(Node* head) {
    Node *prev = NULL, *cur = head, *nxt;
    while (cur) {
        nxt = cur->next;
        cur->next = prev;
        prev = cur;
        cur = nxt;
    }
    return prev;
}

// (You can add more “additional” SLL problems here…)

// ============================
// MAIN
// ============================

int main() {
    return 0;
}
